<h1>Libros</h1>


<!--
    "titulo": "Inventos Infernales",
    "isbn": "453-kdq",
    "id": 1,
    "numPaginas": 123,
    "autor": "Dr Frankestein",
    "digital": false


-->



<div class="row mb-5">
        <div class="alert alert-success alert-dismissible fade show col-12" role="alert" ng-if="vm.modificado">
                <strong>Hecho!</strong> El libro se ha modificado.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
        </div>
    
    <!--
    <div class="col-6" ng-show="vm.editar">
        <pre class="bg-light">{{formu | json }}</pre>
    </div>
    -->
    <div class="col-8">
        <input type="text" class="form-control m-2" ng-model="busqueda.titulo" placeholder="Buscar libro...">
        <table class="table">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col" ng-click="campo= 'id'; orden= !orden">id</th>
                <th scope="col" ng-click="campo= 'titulo'; orden= !orden">Titulo</th>
                <th scope="col" ng-click="campo= 'isbn'; orden= !orden">ISBN</th> 
                <th scope="col" ng-click="campo= 'numPaginas'; orden= !orden">Num. Páginas</th> 
                <th scope="col" ng-click="campo= 'autor'; orden= !orden">Autor</th> 
                <th scope="col" ng-click="campo= 'digital'; orden= !orden">Digital</th>  
                <th scope="col" ng-click="campo= 'formatos'; orden= !orden">Formatos</th>   
              </tr>
            </thead>
            <tbody>
                
              <tr ng-repeat="libro in vm.libros | filter: busqueda | orderBy: campo: orden">
                <td><span ng-click="vm.editarLibro(libro); vm.modificado = false;" class="text-primary"><i class="far fa-edit"></i></span></td>  
                <td>{{libro.id}}</td>
                <td>{{libro.titulo}}</td>
                <td>{{libro.isbn}}</td>
                <td>{{libro.numPaginas}}</td>
                <td>{{libro.autor}}</td>
                <td>{{libro.digital}}</td>
                <td>{{libro.formatos}}</td>
              </tr>
            </tbody>
        </table>
    </div>

    <div class="col-4" ng-show="vm.editar">
            <form name="formu" novalidate ng-submit="vm.guardarDatos(formu.$valid)">
                <div class="form-group">
                    <label for="titulo">Título </label>
                    <input type="text" class="form-control" name="titulo" ng-model="formuData.titulo" required>
                </div>
                <div class="form-group">
                    <label for="titulo">ISBN </label>
                    <input type="text" class="form-control" name="isbn" ng-model="formuData.isbn" required>
                </div>
                <div class="form-group">
                    <label for="titulo">Num. Páginas </label>
                    <input type="text" class="form-control" name="numPaginas" ng-model="formuData.numPaginas" required>
                </div>
                <div class="form-group">
                    <label for="titulo">Autor </label>
                    <input type="text" class="form-control" name="numPaginas" ng-model="formuData.autor" required>
                </div>
    
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" ng-ckecked="formu.digital" name="digital" ng-model="formuData.digital">
                    <label for="titulo" class="form-check-label">Digital </label>
                </div>
                <div class="form-group">
                    <label for="titulo">Formatos </label>
                    <input type="text" class="form-control" name="formatos" ng-model="formuData.formatos">
                </div>
                <button class="btn btn-success" type="submit" ng-disabled="formu.$invalid && formu.$pristine">Editar</button>
    
            </form>
    </div>
    <!--
    <div class="col-4 bg-secondary">
        <pre>{{vm.libros | json}}</pre>
    </div>

    -->
    
</div>

